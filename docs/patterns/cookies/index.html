<!DOCTYPE html><html lang="en-gb" class="wmcads-html"><head><meta charset="utf-8"><title>Cookies - West Midlands Combined Authority Design System</title><meta name="description" content="Your one stop shop for travel in the West Midlands"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="apple-touch-icon" sizes="180x180" href="/config/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/config/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/config/favicons/favicon-16x16.png"><link rel="manifest" href="/config/favicons/site.webmanifest"><link rel="mask-icon" href="/config/favicons/safari-pinned-tab.svg" color="#3c1053"><link rel="shortcut icon" href="/config/favicons/favicon.ico"><meta name="msapplication-TileColor" content="#3c1053"><meta name="msapplication-config" content="/config/favicons/browserconfig.xml"><meta name="theme-color" content="#3c1053"><link rel="stylesheet" href="/css/wmcads.min.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/a11y-dark.min.css"><link rel="stylesheet" href="/css/wmcads-website.min.css"></head><body class="wmcads-body"><!--[if IE]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and
        security.
      </p>
    <![endif]--> <a href="#wmcads-main-content" title="Skip to main content" target="_self" class="wmcads-link wmcads-header__skip-link">Skip to main content</a><header><div class="bg-white wmcads-p-t-md wmcads-p-b-md wmcads-cookies-banner"><div class="wmcads-container"><div class="wmcads-col-1 wmcads-col-md-3-4 wmcads-col-lg-2-3"><h3>Your privacy settings</h3><p>If you’re happy with the use of cookies by West Midlands Combined Authority and our selected partners, click ‘Accept all cookies’. Or click ‘Manage cookies’ to learn more.</p><div class="wmcads-grid wmcads-grid--justify-between wmcads-cookies-banner__group-buttons"><button class="wmcads-btn wmcads-btn wmcads-col-1 wmcads-col-sm-1 wmcads-col-md-12-24 wmcads-cookies-banner__accept-all-cookies">Accept all cookies</button> <a href="/patterns/cookies/#cookies_manager" title="link title" target="_self" class="wmcads-btn wmcads-btn wmcads-col-1 wmcads-col-sm-1 wmcads-col-md-12-24">Manage Cookies</a></div></div></div></div><div class="wmcads-header wmcads-header--mega-menu"><div class="wmcads-container wmcads-grid wmcads-grid--align-center wmcads-grid--justify-between"><div class="wmcads-header__vertical-align wmcads-col-auto"><a class="wmcads-header__logo-link" href="" title="West Midlands Combined Authority Design System"><img class="wmcads-header__logo" alt="West Midlands Combined Authority logo" src="/img/logo.svg"></a></div><nav id="mega-menu" class="wmcads-mega-menu"><button class="wmcads-mega-menu__mobile-toggle wmcads-btn wmcads-btn--secondary wmcads-hide-desktop" aria-expanded="false" aria-controls="mega-menu-primary-menu">Menu <svg class="wmcads-mega-menu__close-icon"><use xlink:href="#wmcads-general-cross" href="#wmcads-general-cross"></use></svg></button><div id="mega-menu-primary-menu" class="wmcads-mega-menu__scroll-controller"><ul class="wmcads-mega-menu__primary-menu"><li class="wmcads-mega-menu__primary-menu-item"><a href="/styles/" title="Styles page" target="_self" class="wmcads-mega-menu__primary-menu-link">Styles </a><button class="wmcads-mega-menu__link-arrow-icon-btn" data-label="Styles" aria-label="toggle Styles" aria-controls="mega-menu-container"><svg class="wmcads-mega-menu__link-arrow-icon"><use xlink-href="#wmcads-general-chevron-right" href="#wmcads-general-chevron-right"></use></svg></button><div id="mega-menu-container-1" class="wmcads-mega-menu__container"><div class="wmcads-container"><ul class="wmcads-mega-menu__sub-menu"><li class="wmcads-mega-menu__sub-menu-item"><a href="/styles/a-to-z-content-style-guide/" class="wmcads-mega-menu__sub-menu-link">A to z content style guide</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/styles/colour-palettes/" class="wmcads-mega-menu__sub-menu-link">Colour palettes</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/styles/icons/" class="wmcads-mega-menu__sub-menu-link">Icons</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/styles/images/" class="wmcads-mega-menu__sub-menu-link">Images</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/styles/layout/" class="wmcads-mega-menu__sub-menu-link">Layout</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/styles/maps/" class="wmcads-mega-menu__sub-menu-link">Maps</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/styles/typography/" class="wmcads-mega-menu__sub-menu-link">Typography</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/styles/utility-classes/" class="wmcads-mega-menu__sub-menu-link">Utility classes</a></li></ul></div></div></li><li class="wmcads-mega-menu__primary-menu-item"><a href="/components/" title="Components page" target="_self" class="wmcads-mega-menu__primary-menu-link">Components </a><button class="wmcads-mega-menu__link-arrow-icon-btn" data-label="Components" aria-label="toggle Components" aria-controls="mega-menu-container"><svg class="wmcads-mega-menu__link-arrow-icon"><use xlink-href="#wmcads-general-chevron-right" href="#wmcads-general-chevron-right"></use></svg></button><div id="mega-menu-container-2" class="wmcads-mega-menu__container"><div class="wmcads-container"><ul class="wmcads-mega-menu__sub-menu"><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/accordion/" class="wmcads-mega-menu__sub-menu-link">Accordion</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/breadcrumb/" class="wmcads-mega-menu__sub-menu-link">Breadcrumb</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/buttons/" class="wmcads-mega-menu__sub-menu-link">Buttons</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/content-card/" class="wmcads-mega-menu__sub-menu-link">Content card</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/content-tiles/" class="wmcads-mega-menu__sub-menu-link">Content tiles</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/details/" class="wmcads-mega-menu__sub-menu-link">Details</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/disruption-indicators/" class="wmcads-mega-menu__sub-menu-link">Disruption indicators</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/file-download/" class="wmcads-mega-menu__sub-menu-link">File download</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/form-elements/" class="wmcads-mega-menu__sub-menu-link">Form elements</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/inset-text/" class="wmcads-mega-menu__sub-menu-link">Inset text</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/in-text-step/" class="wmcads-mega-menu__sub-menu-link">In-text step</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/links/" class="wmcads-mega-menu__sub-menu-link">Links</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/lists/" class="wmcads-mega-menu__sub-menu-link">Lists</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/loader/" class="wmcads-mega-menu__sub-menu-link">Loader</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/message/" class="wmcads-mega-menu__sub-menu-link">Message</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/phase-indicator/" class="wmcads-mega-menu__sub-menu-link">Phase indicator</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/table/" class="wmcads-mega-menu__sub-menu-link">Table</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/components/warning-text/" class="wmcads-mega-menu__sub-menu-link">Warning text</a></li></ul></div></div></li><li class="wmcads-mega-menu__primary-menu-item"><a href="/patterns/" title="Patterns page" target="_self" class="wmcads-mega-menu__primary-menu-link">Patterns </a><button class="wmcads-mega-menu__link-arrow-icon-btn" data-label="Patterns" aria-label="toggle Patterns" aria-controls="mega-menu-container"><svg class="wmcads-mega-menu__link-arrow-icon"><use xlink-href="#wmcads-general-chevron-right" href="#wmcads-general-chevron-right"></use></svg></button><div id="mega-menu-container-3" class="wmcads-mega-menu__container"><div class="wmcads-container"><ul class="wmcads-mega-menu__sub-menu"><li class="wmcads-mega-menu__sub-menu-item"><a href="/patterns/autocomplete/" class="wmcads-mega-menu__sub-menu-link">Autocomplete</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/patterns/banner/" class="wmcads-mega-menu__sub-menu-link">Banner</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/patterns/cookies/" class="wmcads-mega-menu__sub-menu-link">Cookies</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/patterns/contact-details/" class="wmcads-mega-menu__sub-menu-link">Contact details</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/patterns/content-cards/" class="wmcads-mega-menu__sub-menu-link">Content cards</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/patterns/feedback-loop/" class="wmcads-mega-menu__sub-menu-link">Feedback loop</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/patterns/header-and-footer/" class="wmcads-mega-menu__sub-menu-link">Header and footer</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/patterns/header-v2/" class="wmcads-mega-menu__sub-menu-link">Header v2</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/patterns/question-form/" class="wmcads-mega-menu__sub-menu-link">Question form</a></li><li class="wmcads-mega-menu__sub-menu-item"><a href="/patterns/search/" class="wmcads-mega-menu__sub-menu-link">Search</a></li></ul></div></div></li><li class="wmcads-mega-menu__primary-menu-item"><a href="/user-research/" title="User research page" target="_self" class="wmcads-mega-menu__primary-menu-link">User research</a></li></ul></div></nav></div></div><div class="wmcads-container"><div class="wmcads-banner-container"><div class="wmcads-col-1"><div class="wmcads-banner-container__phase-wrapper"><span class="wmcads-phase-indicator">Beta</span></div><p class="wmcads-banner-container__text">This is a new service - your <a href="https://github.com/wmcadigital/wmca-design-system/issues" title="WMCA Design System Github" target="_blank" class="wmcads-link" rel="noopener noreferrer">feedback </a>will help us to improve it.</p></div></div><nav aria-label="Breadcrumbs" class="wmcads-breadcrumb"><ol class="wmcads-breadcrumb__list"><li class="wmcads-breadcrumb__list-item"><a href="/" class="wmcads-breadcrumb__link">Home</a></li><li class="wmcads-breadcrumb__list-item"><a href="/patterns/" class="wmcads-breadcrumb__link">Patterns</a></li><li class="wmcads-breadcrumb__list-item"><a href="/patterns/cookies/" class="wmcads-breadcrumb__link wmcads-breadcrumb__link--current" aria-current="page">Cookies</a></li></ol></nav></div></header><main class="wmcads-container wmcads-container--main"><div class="wmcads-grid wmcads-grid--spacing-lg-2-lg"><div class="wmcads-col-1 wmcads-col-lg-1-3 wmcads-p-b-lg"><ul><li><a class="wmcads-col-1 wmcads-link" href="/patterns/autocomplete/">Autocomplete</a></li><li><a class="wmcads-col-1 wmcads-link" href="/patterns/banner/">Banner</a></li><li><a class="wmcads-col-1 wmcads-link" href="/patterns/contact-details/">Contact details</a></li><li><a class="wmcads-col-1 wmcads-link" href="/patterns/content-cards/">Content cards</a></li><li><a class="wmcads-col-1 wmcads-link" href="/patterns/cookies/">Cookies</a></li><li><a class="wmcads-col-1 wmcads-link" href="/patterns/feedback-loop/">Feedback loop</a></li><li><a class="wmcads-col-1 wmcads-link" href="/patterns/header-and-footer/">Header and footer</a></li><li><a class="wmcads-col-1 wmcads-link" href="/patterns/header-v2/">Header v2</a></li><li><a class="wmcads-col-1 wmcads-link" href="/patterns/question-form/">Question form</a></li><li><a class="wmcads-col-1 wmcads-link" href="/patterns/search/">Search</a></li></ul></div><div class="wmcads-col-1 wmcads-col-lg-2-3" id="wmcads-main-content"><h1>Cookies</h1><hr><h2>About</h2><h3>What does it do?</h3><ul><li>Allows users to accept or amend our website's cookie settings.</li><li>Our cookie preferences should be confirmed before a user can use our website.</li><li>The Manage cookies pattern allows users to change their cookie preferences.</li></ul><hr><br><br><h2>Cookie banner</h2><h3>When to use it?</h3><ul><li>When a user first visits the West Midlands Combined Authority website and has not accepted or amended the cookie preferences.</li><li>The banner should be above the header on every page and only disappear when a user has accepted or amended their cookie preferences.</li></ul><h3>When not to use it?</h3><ul><li>When a user has accepted or amended the website's cookies.</li><li>When a returning user visits the West Midlands Combined Authority website and has already accepted or amended their cookies in a previous session.</li></ul><h3>How it works</h3><ul><li>When a user has accepted or amended the website's cookies.</li><li>When a returning user visits the West Midlands Combined Authority website and has already accepted or amended their cookies in a previous session.</li></ul><p>The Cookies banner should be placed above the main header and be on every page</p><div class="wmcads-website-code-example"><button class="wmcads-btn wmcads-btn--link wmcads-m-md wmcads-website-code-example__view-fullscreen">See this example in fullscreen</button><hr class="wmcads-m-none"><div class="wmcads-website-code-example__inner-wrap"><div class="wmcads-website-code-example__njk wmcads-col-1"><div class="bg-white wmcads-p-t-md wmcads-p-b-md wmcads-cookies-banner"><div class="wmcads-container"><div class="wmcads-col-1 wmcads-col-md-3-4 wmcads-col-lg-2-3"><h3>Your privacy settings</h3><p>If you’re happy with the use of cookies by West Midlands Combined Authority and our selected partners, click ‘Accept all cookies’. Or click ‘Manage cookies’ to learn more.</p><div class="wmcads-grid wmcads-grid--justify-between wmcads-cookies-banner__group-buttons"><button class="wmcads-btn wmcads-btn wmcads-col-1 wmcads-col-sm-1 wmcads-col-md-12-24 wmcads-cookies-banner__accept-all-cookies">Accept all cookies</button> <a href="/patterns/cookies/#cookies_manager" title="link title" target="_self" class="wmcads-btn wmcads-btn wmcads-col-1 wmcads-col-sm-1 wmcads-col-md-12-24">Manage Cookies</a></div></div></div></div></div></div><hr class="wmcads-m-none"><details class="wmcads-details"><summary class="wmcads-link wmcads-p-md">HTML markup</summary><pre><code class="html" tabindex="0">&lt;div class=&quot;bg-white wmcads-p-t-md wmcads-p-b-md wmcads-cookies-banner&quot;&gt;
  &lt;div class=&quot;wmcads-container&quot;&gt;
    &lt;div class=&quot;wmcads-col-1 wmcads-col-md-3-4 wmcads-col-lg-2-3&quot;&gt;
      &lt;h3&gt;Your privacy settings&lt;/h3&gt;
      &lt;p&gt;
        If you’re happy with the use of cookies by West Midlands Combined Authority
        and our selected partners, click ‘Accept all cookies’. Or click ‘Manage cookies’ to learn more.
      &lt;/p&gt;
      &lt;div class=&quot;wmcads-grid wmcads-grid--justify-between wmcads-cookies-banner__group-buttons&quot;&gt;
        &lt;button class=&quot;wmcads-btn wmcads-btn wmcads-col-1 wmcads-col-sm-1 wmcads-col-md-12-24  wmcads-cookies-banner__accept-all-cookies&quot;  &gt;
            Accept all cookies
        &lt;/button&gt;
        &lt;a href=&quot;/patterns/cookies/#cookies_manager&quot; title=&quot;link title&quot; target=&quot;_self&quot; class=&quot;wmcads-btn wmcads-btn wmcads-col-1 wmcads-col-sm-1 wmcads-col-md-12-24&quot;&gt;
          Manage Cookies
        &lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre></details><div class="wmcads-website-code-example__js"><hr class="wmcads-m-none"><details class="wmcads-details wmcads-details--es6"><summary class="wmcads-link wmcads-p-md">Recommended javascript (ES6)</summary><pre><code class="js" tabindex="0"></code></pre></details><script type="text/plain" class="wmcads-website-code-example__script">const cookies = () => {
  const cookiesBanner = document.querySelector('header .wmcads-cookies-banner');

  const hideCookieBanner = () => {
    cookiesBanner.style.display = 'none';
  };
  const showCookieBanner = () => {
    const codeExample = document.querySelector(
      '.wmcads-website-code-example .wmcads-cookies-banner'
    );

    cookiesBanner.style.display = 'block';
    if (codeExample) codeExample.style.display = 'block'; // Ensure the cookie banner in the component example stays visible even if the user has already accepted cookies
  };

  // Set cookie based on name, value and expiry date supplied
  const setCookie = (cname, cvalue, exdays) => {
    const d = new Date();
    d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);
    const expires = `expires=${d.toUTCString()}`;
    const domain = `domain=${window.location.hostname}`;
    document.cookie = `${cname}=${cvalue};${expires};${domain};path=/`;
  };

  // Get cookie based on name supplied
  const getCookie = cname => {
    const name = `${cname}=`;
    const ca = document.cookie.split(';');
    for (let i = 0; i < ca.length; i += 1) {
      let c = ca[i];
      while (c.charAt(0) === ' ') {
        c = c.substring(1);
      }
      if (c.indexOf(name) === 0) {
        return c.substring(name.length, c.length);
      }
    }
    return '';
  };

  // Check if cookie(s) created or not
  const checkCookie = cname => {
    const isCookieCreated = getCookie(cname);
    if (isCookieCreated === '') {
      return false;
    }
    return true;
  };

  const getCookiePolicy = () => JSON.parse(getCookie('cookies-policy'));

  const updateCookiePreferences = () => {
    if (document.querySelector('.wmcads-cookies-manager__preferences')) {
      hideCookieBanner();
      const cookiesOptions = document
        .querySelector('.wmcads-cookies-manager__preferences')
        .querySelectorAll('.wmcads-fe-checkboxes__input');
      const currentOptions = [
        getCookiePolicy().essential,
        getCookiePolicy().functional,
        getCookiePolicy().performance
      ];
      for (let i = 0; i < cookiesOptions.length; i += 1) {
        cookiesOptions[i].checked = currentOptions[i];
      }
    }
  };

  const setCookiePolicy = (essentialValue, functionalValue, performanceValue) => {
    const cookieValue = {
      essential: essentialValue,
      functional: functionalValue,
      performance: performanceValue
    };
    setCookie('cookies-policy', JSON.stringify(cookieValue), 181);
    updateCookiePreferences();
  };

  const acceptAllCookies = () => {
    setCookiePolicy(true, true, true);
    setCookie('cookies-preference', true, 181);
    hideCookieBanner();
  };

  const savePreferences = () => {
    if (document.querySelector('.wmcads-cookies-manager__form')) {
      const elements = document
        .querySelector('.wmcads-cookies-manager__form')
        .querySelectorAll('.wmcads-fe-checkboxes__input');
      const selectedOptions = [];
      for (let i = 0; i < elements.length; i += 1) {
        selectedOptions[i] = elements.item(i).checked;
      }
      setCookiePolicy(...selectedOptions);
      setCookie('cookies-preference', true, 181);
    }
  };

  const cookiesScan = () => {
    // if cookies-preference doesn't exist, show cookie banner
    if (!checkCookie('cookies-preference')) {
      showCookieBanner();
      setCookiePolicy(true, false, false);
    }

    // verify if we are at Cookies Manager page and update the selected options to match the already created cookie
    updateCookiePreferences();
  };

  const isInIframe = window.frameElement && window.frameElement.nodeName === 'IFRAME'; // check if we are in an iframe

  // Creation of default Cookies permissions when the DOM is fully loaded
  if (!isInIframe) document.addEventListener('DOMContentLoaded', cookiesScan);

  // When Accept all cookies button is triggered
  const acceptAllCookiesBtn = document.querySelector('.wmcads-cookies-banner__accept-all-cookies');

  if (!isInIframe) {
    acceptAllCookiesBtn.addEventListener('click', acceptAllCookies);
    acceptAllCookiesBtn.addEventListener('keydown', event => {
      if (event.key === ' ' || event.key === 'Enter' || event.key === 'Spacebar') {
        event.preventDefault();
        acceptAllCookies();
      }
    });
  }

  // When Safe Preferences button is triggered
  const cookieForm = document.querySelector('.wmcads-cookies-manager__form');
  if (cookieForm) cookieForm.addEventListener('submit', savePreferences);
};

export default cookies;</script></div></div><hr><br><br><h2 id="cookies_manager">Manage Cookies</h2><h3>When to use it?</h3><ul><li>Users can manage their cookies through the 'Manage cookies' button in the Cookie banner.</li><li>The Manage cookies pattern is also accessible from the main Policies page, so users can amend their cookie preferences at any time.</li></ul><div class="wmcads-website-code-example"><button class="wmcads-btn wmcads-btn--link wmcads-m-md wmcads-website-code-example__view-fullscreen">See this example in fullscreen</button><hr class="wmcads-m-none"><div class="wmcads-website-code-example__inner-wrap"><iframe sandbox="allow-same-origin allow-scripts" title="Component example" class="wmcads-website-code-example__iframe wmcads-col-1" src="about:blank" data-src="&lt;div class=&quot;wmcads-p-md wmcads-cookies-manager&quot;&gt;
  &lt;div class=&quot;wmcads-container wmcads-col-1 wmcads-col-sm-1 wmcads-col-lg-3-4&quot;&gt;
    &lt;form class=&quot;wmcads-cookies-manager__form&quot; action=&quot;#&quot;&gt;
      &lt;h1&gt;Manage Cookies&lt;/h1&gt;
      &lt;p class=&quot;wmcads-m-b-md&quot;&gt;
        Check your settings below and select the cookies you’re happy with.
      &lt;/p&gt;
      &lt;p&gt;
        These settings only apply to wmca.org.uk
      &lt;/p&gt;
      &lt;div class=&quot;wmcads-cookies-manager__preferences wmcads-p-b-md wmcads-p-t-md&quot;&gt;
        &lt;div class=&quot;wmcads-fe-group wmcads-m-none&quot;&gt;
      &lt;fieldset class=&quot;wmcads-fe-fieldset&quot;&gt;
        &lt;legend class=&quot;wmcads-fe-fieldset__legend&quot;&gt;&lt;/legend&gt;
        &lt;div class=&quot;wmcads-fe-checkboxes&quot;&gt;
          &lt;span class=&quot;wmcads-fe-checkboxes__desc&quot;&gt;&lt;/span&gt;
              &lt;label class=&quot;wmcads-fe-checkboxes__container&quot;&gt;
                &lt;div class=&quot;wmcads-m-b-lg&quot;&gt;
                  &lt;h3 class=&quot;wmcads-m-none wmcads-p-b-sm&quot;&gt;Essential cookies&lt;/h3&gt;Without these cookies our website won’t work properly. They help you to access secure areas like accounts and tools such as the journey planner.
                  &lt;/div&gt;
                &lt;input class=&quot;wmcads-fe-checkboxes__input&quot; value=&quot;Essential cookies&quot;  checked=&quot;checked&quot; type=&quot;checkbox&quot;  disabled=&quot;disabled&quot;/&gt;
                &lt;span class=&quot;wmcads-fe-checkboxes__checkmark&quot;&gt;
                  &lt;svg class=&quot;wmcads-fe-checkboxes__icon&quot;&gt;
              &lt;use xlink:href=&quot;#wmcads-general-checkmark&quot; href=&quot;#wmcads-general-checkmark&quot;&gt;&lt;/use&gt;
            &lt;/svg&gt;
                &lt;/span&gt;
              &lt;/label&gt;
              &lt;label class=&quot;wmcads-fe-checkboxes__container&quot;&gt;
                &lt;div class=&quot;wmcads-m-b-lg&quot;&gt;
                  &lt;h3 class=&quot;wmcads-m-none wmcads-p-b-sm&quot;&gt;Functional cookies&lt;/h3&gt;These cookies help us to personalise our services to suit your needs, like saving your favourite transport services.
                  &lt;/div&gt;
                &lt;input class=&quot;wmcads-fe-checkboxes__input&quot; value=&quot;Functional cookies&quot;  type=&quot;checkbox&quot; /&gt;
                &lt;span class=&quot;wmcads-fe-checkboxes__checkmark&quot;&gt;
                  &lt;svg class=&quot;wmcads-fe-checkboxes__icon&quot;&gt;
              &lt;use xlink:href=&quot;#wmcads-general-checkmark&quot; href=&quot;#wmcads-general-checkmark&quot;&gt;&lt;/use&gt;
            &lt;/svg&gt;
                &lt;/span&gt;
              &lt;/label&gt;
              &lt;label class=&quot;wmcads-fe-checkboxes__container&quot;&gt;
                &lt;div class=&quot;wmcads-m-b-lg&quot;&gt;
                  &lt;h3 class=&quot;wmcads-m-none wmcads-p-b-sm&quot;&gt;Performance cookies&lt;/h3&gt;These cookies collect information about how you’re using our services, for instance popular pages or errors. We use this information to make decisions when improving our services. We do not use any information collected to identify you as an individual.
                  &lt;/div&gt;
                &lt;input class=&quot;wmcads-fe-checkboxes__input&quot; value=&quot;Performance cookies&quot;  type=&quot;checkbox&quot; /&gt;
                &lt;span class=&quot;wmcads-fe-checkboxes__checkmark&quot;&gt;
                  &lt;svg class=&quot;wmcads-fe-checkboxes__icon&quot;&gt;
              &lt;use xlink:href=&quot;#wmcads-general-checkmark&quot; href=&quot;#wmcads-general-checkmark&quot;&gt;&lt;/use&gt;
            &lt;/svg&gt;
                &lt;/span&gt;
              &lt;/label&gt;&lt;/div&gt;
      &lt;/fieldset&gt;
    &lt;/div&gt;
      &lt;/div&gt;
      &lt;div&gt;
      &lt;button class=&quot;wmcads-btn wmcads-btn wmcads-cookies-manager__save-preferences wmcads-col-1 wmcads-col-sm-1 wmcads-col-md-12-24&quot;  type=&quot;submit&quot;&gt;
        Save Preferences
    &lt;/button&gt;
      &lt;/div&gt;
      &lt;div class=&quot;wmcads-m-t-lg&quot;&gt;
        &lt;p&gt;If you change your mind, &lt;a href=&quot;&quot;&gt;visit our Policies page&lt;/a&gt; to change your cookie preferences.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/form&gt;
  &lt;/div&gt;
&lt;/div&gt;" frameborder="0" loading="lazy" allowtransparency="true" scrolling="no" allow="fullscreen" width="100%" data-path="wmcads/patterns/cookies/"></iframe></div><hr class="wmcads-m-none"><details class="wmcads-details"><summary class="wmcads-link wmcads-p-md">HTML markup</summary><pre><code class="html" tabindex="0">&lt;div class=&quot;wmcads-p-md wmcads-cookies-manager&quot;&gt;
  &lt;div class=&quot;wmcads-container wmcads-col-1 wmcads-col-sm-1 wmcads-col-lg-3-4&quot;&gt;
    &lt;form class=&quot;wmcads-cookies-manager__form&quot; action=&quot;#&quot;&gt;
      &lt;h1&gt;Manage Cookies&lt;/h1&gt;
      &lt;p class=&quot;wmcads-m-b-md&quot;&gt;
        Check your settings below and select the cookies you’re happy with.
      &lt;/p&gt;
      &lt;p&gt;
        These settings only apply to wmca.org.uk
      &lt;/p&gt;
      &lt;div class=&quot;wmcads-cookies-manager__preferences wmcads-p-b-md wmcads-p-t-md&quot;&gt;
        &lt;div class=&quot;wmcads-fe-group wmcads-m-none&quot;&gt;
      &lt;fieldset class=&quot;wmcads-fe-fieldset&quot;&gt;
        &lt;legend class=&quot;wmcads-fe-fieldset__legend&quot;&gt;&lt;/legend&gt;
        &lt;div class=&quot;wmcads-fe-checkboxes&quot;&gt;
          &lt;span class=&quot;wmcads-fe-checkboxes__desc&quot;&gt;&lt;/span&gt;
              &lt;label class=&quot;wmcads-fe-checkboxes__container&quot;&gt;
                &lt;div class=&quot;wmcads-m-b-lg&quot;&gt;
                  &lt;h3 class=&quot;wmcads-m-none wmcads-p-b-sm&quot;&gt;Essential cookies&lt;/h3&gt;Without these cookies our website won’t work properly. They help you to access secure areas like accounts and tools such as the journey planner.
                  &lt;/div&gt;
                &lt;input class=&quot;wmcads-fe-checkboxes__input&quot; value=&quot;Essential cookies&quot;  checked=&quot;checked&quot; type=&quot;checkbox&quot;  disabled=&quot;disabled&quot;/&gt;
                &lt;span class=&quot;wmcads-fe-checkboxes__checkmark&quot;&gt;
                  &lt;svg class=&quot;wmcads-fe-checkboxes__icon&quot;&gt;
              &lt;use xlink:href=&quot;#wmcads-general-checkmark&quot; href=&quot;#wmcads-general-checkmark&quot;&gt;&lt;/use&gt;
            &lt;/svg&gt;
                &lt;/span&gt;
              &lt;/label&gt;
              &lt;label class=&quot;wmcads-fe-checkboxes__container&quot;&gt;
                &lt;div class=&quot;wmcads-m-b-lg&quot;&gt;
                  &lt;h3 class=&quot;wmcads-m-none wmcads-p-b-sm&quot;&gt;Functional cookies&lt;/h3&gt;These cookies help us to personalise our services to suit your needs, like saving your favourite transport services.
                  &lt;/div&gt;
                &lt;input class=&quot;wmcads-fe-checkboxes__input&quot; value=&quot;Functional cookies&quot;  type=&quot;checkbox&quot; /&gt;
                &lt;span class=&quot;wmcads-fe-checkboxes__checkmark&quot;&gt;
                  &lt;svg class=&quot;wmcads-fe-checkboxes__icon&quot;&gt;
              &lt;use xlink:href=&quot;#wmcads-general-checkmark&quot; href=&quot;#wmcads-general-checkmark&quot;&gt;&lt;/use&gt;
            &lt;/svg&gt;
                &lt;/span&gt;
              &lt;/label&gt;
              &lt;label class=&quot;wmcads-fe-checkboxes__container&quot;&gt;
                &lt;div class=&quot;wmcads-m-b-lg&quot;&gt;
                  &lt;h3 class=&quot;wmcads-m-none wmcads-p-b-sm&quot;&gt;Performance cookies&lt;/h3&gt;These cookies collect information about how you’re using our services, for instance popular pages or errors. We use this information to make decisions when improving our services. We do not use any information collected to identify you as an individual.
                  &lt;/div&gt;
                &lt;input class=&quot;wmcads-fe-checkboxes__input&quot; value=&quot;Performance cookies&quot;  type=&quot;checkbox&quot; /&gt;
                &lt;span class=&quot;wmcads-fe-checkboxes__checkmark&quot;&gt;
                  &lt;svg class=&quot;wmcads-fe-checkboxes__icon&quot;&gt;
              &lt;use xlink:href=&quot;#wmcads-general-checkmark&quot; href=&quot;#wmcads-general-checkmark&quot;&gt;&lt;/use&gt;
            &lt;/svg&gt;
                &lt;/span&gt;
              &lt;/label&gt;&lt;/div&gt;
      &lt;/fieldset&gt;
    &lt;/div&gt;
      &lt;/div&gt;
      &lt;div&gt;
      &lt;button class=&quot;wmcads-btn wmcads-btn wmcads-cookies-manager__save-preferences wmcads-col-1 wmcads-col-sm-1 wmcads-col-md-12-24&quot;  type=&quot;submit&quot;&gt;
        Save Preferences
    &lt;/button&gt;
      &lt;/div&gt;
      &lt;div class=&quot;wmcads-m-t-lg&quot;&gt;
        &lt;p&gt;If you change your mind, &lt;a href=&quot;&quot;&gt;visit our Policies page&lt;/a&gt; to change your cookie preferences.&lt;/p&gt;
      &lt;/div&gt;
    &lt;/form&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre></details><div class="wmcads-website-code-example__js"><hr class="wmcads-m-none"><details class="wmcads-details wmcads-details--es6"><summary class="wmcads-link wmcads-p-md">Recommended javascript (ES6)</summary><pre><code class="js" tabindex="0"></code></pre></details><script type="text/plain" class="wmcads-website-code-example__script">const cookies = () => {
  const cookiesBanner = document.querySelector('header .wmcads-cookies-banner');

  const hideCookieBanner = () => {
    cookiesBanner.style.display = 'none';
  };
  const showCookieBanner = () => {
    const codeExample = document.querySelector(
      '.wmcads-website-code-example .wmcads-cookies-banner'
    );

    cookiesBanner.style.display = 'block';
    if (codeExample) codeExample.style.display = 'block'; // Ensure the cookie banner in the component example stays visible even if the user has already accepted cookies
  };

  // Set cookie based on name, value and expiry date supplied
  const setCookie = (cname, cvalue, exdays) => {
    const d = new Date();
    d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);
    const expires = `expires=${d.toUTCString()}`;
    const domain = `domain=${window.location.hostname}`;
    document.cookie = `${cname}=${cvalue};${expires};${domain};path=/`;
  };

  // Get cookie based on name supplied
  const getCookie = cname => {
    const name = `${cname}=`;
    const ca = document.cookie.split(';');
    for (let i = 0; i < ca.length; i += 1) {
      let c = ca[i];
      while (c.charAt(0) === ' ') {
        c = c.substring(1);
      }
      if (c.indexOf(name) === 0) {
        return c.substring(name.length, c.length);
      }
    }
    return '';
  };

  // Check if cookie(s) created or not
  const checkCookie = cname => {
    const isCookieCreated = getCookie(cname);
    if (isCookieCreated === '') {
      return false;
    }
    return true;
  };

  const getCookiePolicy = () => JSON.parse(getCookie('cookies-policy'));

  const updateCookiePreferences = () => {
    if (document.querySelector('.wmcads-cookies-manager__preferences')) {
      hideCookieBanner();
      const cookiesOptions = document
        .querySelector('.wmcads-cookies-manager__preferences')
        .querySelectorAll('.wmcads-fe-checkboxes__input');
      const currentOptions = [
        getCookiePolicy().essential,
        getCookiePolicy().functional,
        getCookiePolicy().performance
      ];
      for (let i = 0; i < cookiesOptions.length; i += 1) {
        cookiesOptions[i].checked = currentOptions[i];
      }
    }
  };

  const setCookiePolicy = (essentialValue, functionalValue, performanceValue) => {
    const cookieValue = {
      essential: essentialValue,
      functional: functionalValue,
      performance: performanceValue
    };
    setCookie('cookies-policy', JSON.stringify(cookieValue), 181);
    updateCookiePreferences();
  };

  const acceptAllCookies = () => {
    setCookiePolicy(true, true, true);
    setCookie('cookies-preference', true, 181);
    hideCookieBanner();
  };

  const savePreferences = () => {
    if (document.querySelector('.wmcads-cookies-manager__form')) {
      const elements = document
        .querySelector('.wmcads-cookies-manager__form')
        .querySelectorAll('.wmcads-fe-checkboxes__input');
      const selectedOptions = [];
      for (let i = 0; i < elements.length; i += 1) {
        selectedOptions[i] = elements.item(i).checked;
      }
      setCookiePolicy(...selectedOptions);
      setCookie('cookies-preference', true, 181);
    }
  };

  const cookiesScan = () => {
    // if cookies-preference doesn't exist, show cookie banner
    if (!checkCookie('cookies-preference')) {
      showCookieBanner();
      setCookiePolicy(true, false, false);
    }

    // verify if we are at Cookies Manager page and update the selected options to match the already created cookie
    updateCookiePreferences();
  };

  const isInIframe = window.frameElement && window.frameElement.nodeName === 'IFRAME'; // check if we are in an iframe

  // Creation of default Cookies permissions when the DOM is fully loaded
  if (!isInIframe) document.addEventListener('DOMContentLoaded', cookiesScan);

  // When Accept all cookies button is triggered
  const acceptAllCookiesBtn = document.querySelector('.wmcads-cookies-banner__accept-all-cookies');

  if (!isInIframe) {
    acceptAllCookiesBtn.addEventListener('click', acceptAllCookies);
    acceptAllCookiesBtn.addEventListener('keydown', event => {
      if (event.key === ' ' || event.key === 'Enter' || event.key === 'Spacebar') {
        event.preventDefault();
        acceptAllCookies();
      }
    });
  }

  // When Safe Preferences button is triggered
  const cookieForm = document.querySelector('.wmcads-cookies-manager__form');
  if (cookieForm) cookieForm.addEventListener('submit', savePreferences);
};

export default cookies;</script></div></div><hr></div></div></main><footer><div class="wmcads-feedback-loop"><div class="wmcads-container wmcads-feedback-loop__questions"><div class="wmcads-feedback-loop__useful">Is this page useful? <a href="#" title="link title" target="_self" class="wmcads-link wmcads-m-l-sm">Yes</a> <a href="#" title="link title" target="_self" class="wmcads-link wmcads-m-l-sm">No</a></div><div class="wmcads-feedback-loop__wrong"><a href="#" title="link title" target="_self" class="wmcads-link">Is there anything wrong with this page?</a></div></div><form class="wmcads-container wmcads-feedback-loop__form wmcads-grid"><div class="wmcads-grid wmcads-grid--align-center wmcads-grid--justify-between"><legend class="wmcads-col-auto wmcads-m-none">Help us improve West Midlands Combined Authority</legend><a href="#" class="wmcads-link wmcads-col-auto wmcads-m-l-md">Close</a></div><br><div class="wmcads-col-1 wmcads-col-md-1-2"><div class="wmcads-fe-group"><label class="wmcads-fe-label" for="feedback-loop-textarea">Textarea label</label> <textarea class="wmcads-fe-textarea" id="feedback-loop-textarea" name="feedback-loop-textarea" rows="3"></textarea></div></div><br><br><div class="wmcads-col-1 wmcads-col-md-1-3"><div class="wmcads-fe-group"><label class="wmcads-fe-label" for="feedback-loop-input">Input Label</label> <input class="wmcads-fe-input" id="feedback-loop-input" name="feedback-loop-input" type="text"></div></div><br><br><div class="wmcads-col-1"><div class="wmcads-fe-group"><fieldset class="wmcads-fe-fieldset"><legend class="wmcads-fe-fieldset__legend"><h2 class="wmcads-fe-question">How would you...?</h2></legend><div class="wmcads-fe-checkboxes"><span class="wmcads-fe-checkboxes__desc">Select all options that apply </span><label class="wmcads-fe-checkboxes__container">Option 1 <input class="wmcads-fe-checkboxes__input" value="Option 1" checked="checked" type="checkbox"> <span class="wmcads-fe-checkboxes__checkmark"><svg class="wmcads-fe-checkboxes__icon"><use xlink:href="#wmcads-general-checkmark" href="#wmcads-general-checkmark"></use></svg></span></label> <label class="wmcads-fe-checkboxes__container">Option 2 <input class="wmcads-fe-checkboxes__input" value="Option 2" type="checkbox"> <span class="wmcads-fe-checkboxes__checkmark"><svg class="wmcads-fe-checkboxes__icon"><use xlink:href="#wmcads-general-checkmark" href="#wmcads-general-checkmark"></use></svg></span></label> <label class="wmcads-fe-checkboxes__container">Option 3 <input class="wmcads-fe-checkboxes__input" value="Option 3" type="checkbox"> <span class="wmcads-fe-checkboxes__checkmark"><svg class="wmcads-fe-checkboxes__icon"><use xlink:href="#wmcads-general-checkmark" href="#wmcads-general-checkmark"></use></svg></span></label></div></fieldset></div></div><br><br><button class="wmcads-btn wmcads-btn">Submit feedback</button></form></div><div class="wmcads-footer wmcads-footer--v2"><div class="wmcads-container wmcads-grid"></div><div class="wmcads-container"><div class="wmcads-footer__bottom wmcads-grid"><div class="wmcads-col-1 wmcads-col-md-1-2"><p class="wmcads-footer__copyright">&copy; West Midlands Combined Authority 2020</p></div><div class="wmcads-col-1 wmcads-col-md-1-2"><ul class="wmcads-footer__bottom-menu"><li><a class="wmcads-footer__link" href="https://www.wmca.org.uk/policies">Privacy &amp; Cookies Policy</a></li></ul></div></div></div></div></footer><script src="/js/wmcads-website.min.js"></script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-151672610-1"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151672610-1');</script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script></body></html>